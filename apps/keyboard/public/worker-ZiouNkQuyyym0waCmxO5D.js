(()=>{importScripts("https://www.gstatic.com/firebasejs/9.14.0/firebase-app-compat.js"),importScripts("https://www.gstatic.com/firebasejs/9.14.0/firebase-messaging-compat.js"),self.addEventListener("fetch",(()=>{const e=new URLSearchParams(location.search);self.firebaseConfig=Object.fromEntries(e)}));self.addEventListener("notificationclick",(e=>{e.notification.close()}));firebase.initializeApp(self.firebaseConfig||{apiKey:!0,authDomain:!0,projectId:!0,storageBucket:!0,messagingSenderId:!0,appId:!0,measurementId:!0});firebase.messaging().onBackgroundMessage((e=>{console.log("부재중 메시지",e);const{data:i}=e,s=i.title,t={body:i.body,icon:i.icon};self.registration.showNotification(s,t)}))})();