"use strict";(self.webpackChunksb=self.webpackChunksb||[]).push([[425],{"../../packages/utils/src/hooks/useEventListener.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>hooks_useEventListener});var react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const useIsoMorphicEffect="undefined"!=typeof window?react.useLayoutEffect:react.useEffect;const hooks_useEventListener=function useEventListener(eventName,handler,element,options){var savedHandler=(0,react.useRef)(handler);useIsoMorphicEffect((function(){savedHandler.current=handler}),[handler]),(0,react.useEffect)((function(){var _element$current,targetElement=null!==(_element$current=null==element?void 0:element.current)&&void 0!==_element$current?_element$current:window;if(targetElement&&targetElement.addEventListener){var listener=function listener(event){return savedHandler.current(event)};return targetElement.addEventListener(eventName,listener,options),function(){targetElement.removeEventListener(eventName,listener,options)}}}),[eventName,element,options])}},"../../packages/utils/src/hooks/useInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useInput});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");function useInput(submitAction){var debounceTime=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,_useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),inputValue=_useState[0],setInputValue=_useState[1],debounceInput=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.debounce)((function(val){return setInputValue(val)}),debounceTime),[debounceTime]),submitHandler=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){setInputValue(""),void 0!==submitAction&&submitAction(inputValue)}),[submitAction,inputValue]);return[inputValue,function changeHandler(e){return debounceInput(e.target.value)},submitHandler,function reset(){return setInputValue("")}]}},"../../packages/utils/src/utils/cn.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/tailwind-merge@1.12.0/node_modules/tailwind-merge/dist/lib/tw-merge.mjs");function cn(){for(var _len=arguments.length,inputs=new Array(_len),_key=0;_key<_len;_key++)inputs[_key]=arguments[_key];return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.m)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.W)(inputs))}},"./stories/InputSimple.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Sample:()=>Sample,default:()=>InputSimple_stories});var esm_extends=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),toConsumableArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),defineProperty=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),regenerator=__webpack_require__("../../node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),fuse_esm=__webpack_require__("../../node_modules/.pnpm/fuse.js@6.6.2/node_modules/fuse.js/dist/fuse.esm.js"),index_esm=__webpack_require__("../../node_modules/.pnpm/react-icons@4.8.0_react@18.2.0/node_modules/react-icons/hi/index.esm.js"),ri_index_esm=__webpack_require__("../../node_modules/.pnpm/react-icons@4.8.0_react@18.2.0/node_modules/react-icons/ri/index.esm.js"),ti_index_esm=__webpack_require__("../../node_modules/.pnpm/react-icons@4.8.0_react@18.2.0/node_modules/react-icons/ti/index.esm.js");function useStorage(key,initialValue,storageObject){var _useState=(0,react.useState)((function(){if("undefined"==typeof window)return initialValue;try{var item=storageObject.getItem(key);return item?JSON.parse(item):initialValue instanceof Function?initialValue():initialValue}catch(error){return console.error(error),initialValue}})),storedValue=_useState[0],setStoredValue=_useState[1];(0,react.useEffect)((function(){"undefined"!=typeof window&&void 0!==storedValue&&storageObject.setItem(key,JSON.stringify(storedValue))}),[key,storedValue,storageObject]);return[storedValue,setStoredValue,function clear(){storageObject.removeItem(key),setStoredValue(initialValue)}]}var useInput=__webpack_require__("../../packages/utils/src/hooks/useInput.tsx"),useEventListener=__webpack_require__("../../packages/utils/src/hooks/useEventListener.tsx"),cn=__webpack_require__("../../packages/utils/src/utils/cn.ts"),__jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function InputSimple(_ref){var data=_ref.data,setData=_ref.setData,labelKeys=_ref.labelKeys,_ref$debounceTime=_ref.debounceTime,debounceTime=void 0===_ref$debounceTime?300:_ref$debounceTime,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"":_ref$placeholder,className=_ref.className,history=_ref.history,_useLocalStorage=function useLocalStorage(key,defaultValue){return useStorage(key,defaultValue,globalThis.localStorage)}("search",[]),_useLocalStorage2=(0,slicedToArray.Z)(_useLocalStorage,3),storedValue=_useLocalStorage2[0],setStoredValue=_useLocalStorage2[1],reset=_useLocalStorage2[2],id=(0,react.useId)(),fuse=new fuse_esm.Z(data,{includeScore:!0,minMatchCharLength:2,threshold:.3,keys:labelKeys}),submitAction=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(value){var filteredItems;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:filteredItems=""===value?data:fuse.search(value).map((function(res){return _objectSpread({},res.item)})),setData(filteredItems),setStoredValue((function(prev){return(0,toConsumableArray.Z)(new Set([value].concat((0,toConsumableArray.Z)(prev))))}));case 3:case"end":return _context.stop()}}),_callee)})));return function submitAction(_x){return _ref2.apply(this,arguments)}}(),_useInput=(0,useInput.Z)(submitAction,debounceTime),_useInput2=(0,slicedToArray.Z)(_useInput,4),onChange=_useInput2[1],onSubmit=_useInput2[2],clear=_useInput2[3],inputRef=(0,react.useRef)(null),buttonRef=(0,react.useRef)(null);return(0,useEventListener.Z)("keypress",(function(e){var _buttonRef$current;"Enter"===e.key&&(null===(_buttonRef$current=buttonRef.current)||void 0===_buttonRef$current||_buttonRef$current.click())}),inputRef),__jsx("div",{className:"relative flex max-w-max items-center"},__jsx("button",{ref:buttonRef,onClick:function onClick(){var _inputRef$current;onSubmit(),null!==(_inputRef$current=inputRef.current)&&void 0!==_inputRef$current&&_inputRef$current.value&&(inputRef.current.value="")},className:"pointer-events-none absolute z-10 flex h-10 items-center py-2 pl-3 text-black/70 hover:text-black/90"},__jsx(ri_index_esm.Qcu,{className:"h-5 w-5"})),__jsx("input",{type:"text",spellCheck:"false",ref:inputRef,className:(0,cn.cn)("text-smoke-500 h-10 resize-none rounded-full bg-white/20 py-2 pl-10 pr-10 caret-orange-500 saturate-150 backdrop-blur-md placeholder:text-white/40 focus:outline-none ".concat(className)),placeholder,onChange}),__jsx("button",{className:"absolute right-0 flex h-10 items-center justify-center rounded-full py-2 pr-3 font-medium text-black/30 outline-none duration-300 hover:scale-125 hover:text-black",onClick:function onClick(){var _inputRef$current2;clear(),reset(),setData(data),null!==(_inputRef$current2=inputRef.current)&&void 0!==_inputRef$current2&&_inputRef$current2.value&&(inputRef.current.value="")}},__jsx(ti_index_esm.bqj,{className:"h-4 w-4"})),history&&__jsx("div",{className:"absolute inset-x-0 -bottom-9 line-clamp-1 flex w-full items-center gap-4 overflow-x-auto text-xs text-white/30 duration-200 ".concat(storedValue[0]?"opacity-100":"opacity-0")},__jsx(index_esm.MOd,{className:"h-4 w-4 shrink-0"}),storedValue.map((function(historyItem){return __jsx("span",{key:id,className:"cursor-pointer",onClick:function onClick(){return submitAction(historyItem)}},historyItem)}))))}InputSimple.displayName="InputSimple",InputSimple.__docgenInfo={description:"",methods:[],displayName:"InputSimple",props:{debounceTime:{defaultValue:{value:"300",computed:!1},required:!1,tsType:{name:"number"},description:""},placeholder:{defaultValue:{value:'""',computed:!1},required:!1,tsType:{name:"string"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},setData:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"Array",elements:[{name:"T"}],raw:"T[]"}],raw:"SetStateAction<T[]>"}],raw:"Dispatch<SetStateAction<T[]>>"},description:""},labelKeys:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},history:{required:!1,tsType:{name:"boolean"},description:""}}};var InputSimple_stories_jsx=react.createElement;const InputSimple_stories={title:"UI/InputSimple",component:InputSimple,tags:["autodocs"],argTypes:{submitAction:{description:"Submit Handler. Runs on clicking Button. Input value comes in as first parameter.",table:{type:{summary:"(inputState: string, ...args: unknown[]) => void"},defaultValue:{summary:"[optional]"}}}}};var example=[{id:0,name:"foo"},{id:1,name:"bar"}],Template=function Template(args){var _useState=(0,react.useState)(example),data=_useState[0],setData=_useState[1];return InputSimple_stories_jsx("div",{className:"flex items-center justify-center bg-black"},InputSimple_stories_jsx(InputSimple,(0,esm_extends.Z)({},args,{data,setData})))};Template.displayName="Template";var Sample=Template.bind({});Sample.args={labelKeys:["foo"],placeholder:"닉네임을 입력하세요"},Sample.parameters={docs:{source:{code:'<Input\n  submitAction={ value => alert(value)}\n  placeholder="닉네임을 입력하세요"\n/>',language:"tsx",type:"auto"}}},Sample.parameters={...Sample.parameters,docs:{...Sample.parameters?.docs,source:{originalSource:'function Template(args) {\n  var _useState = useState(example),\n    data = _useState[0],\n    setData = _useState[1];\n  return __jsx("div", {\n    className: "flex items-center justify-center bg-black"\n  }, __jsx(InputSimple, _extends({}, args, {\n    data: data,\n    setData: setData\n  })));\n}',...Sample.parameters?.docs?.source}}}}}]);