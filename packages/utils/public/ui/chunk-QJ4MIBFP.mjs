import { c, b } from './chunk-KFTDJPLF.mjs';
import { a } from './chunk-U6DJLCJW.mjs';
import { Listbox, Transition } from '@headlessui/react';
import { ChevronUpDownIcon, CheckIcon, MagnifyingGlassIcon } from '@heroicons/react/20/solid';
import { cva } from 'cva';
import { useMemo, useRef, Fragment } from 'react';
import { useFormContext, Controller } from 'react-hook-form';
import { jsx, jsxs, Fragment as Fragment$1 } from 'react/jsx-runtime';

var i=cva("",{variants:{color:{twitter:"bg-twitter-100 text-twitter-900",orange:"bg-amber-100 text-amber-900",pink:"bg-rose-100 text-rose-900",emerald:"bg-emerald-100 text-emerald-900",darkNavy:"bg-gray-900 text-gray-900"},iconColor:{twitter:"text-twitter-600",orange:"text-amber-600",pink:"text-rose-600",emerald:"text-emerald-600",darkNavy:"text-gray-900"},width:{narrower:"max-w-xs",narrow:"max-w-lg",regular:"max-w-xl",wide:"max-w-2xl",wider:"max-w-3xl"}}});function D({list:r,name:h,color:l="twitter",width:v="regular",labelKey:t="name",uniqueKey:M="name",removeDuplicates:b$1=!1,searchBar:w}){let{control:y}=useFormContext(),c$1=b$1?useMemo(()=>a(r,t),[r]):r,[m,k,,p]=c(()=>{},200),u=useRef(null);b(u,p);let N=l;return jsx(Controller,{name:h,control:y,defaultValue:c$1[0]?.[t],rules:{required:!0},render:({field:d})=>jsx("div",{className:`${i({width:v})}`,ref:u,children:jsx(Listbox,{...d,children:jsxs("div",{className:"relative mt-1",children:[jsxs(Listbox.Button,{className:"relative w-full cursor-default rounded-lg bg-white py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm",children:[jsx("span",{className:"block truncate text-gray-900",children:d.value}),jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:jsx(ChevronUpDownIcon,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),jsx(Transition,{as:Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterLeave:p,children:jsxs(Listbox.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:[w&&jsx(E,{changeHandeler:k}),c$1.map((a,C)=>jsx(Listbox.Option,{className:({active:n})=>`relative z-10 cursor-default select-none bg-white py-2 pl-10 pr-4 ${n?i({color:l}):"text-gray-900"} ${String(a[t]).toLowerCase().startsWith(m)?"block":"hidden"}`,disabled:!String(a[t]).toLowerCase().startsWith(m),value:String(a[t]),children:({selected:n})=>jsxs(Fragment$1,{children:[jsx("span",{className:`block truncate ${n?"font-medium":"font-normal"}`,children:String(a[t])}),n?jsx("span",{className:`absolute inset-y-0 left-0 flex items-center pl-3 ${i({iconColor:N})}`,children:jsx(CheckIcon,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},`${String(a[t])}+ ${C}`))]})})]})})})})}function E({changeHandeler:r}){return jsxs("div",{className:"sticky top-0 z-10 flex items-center rounded-md bg-white/30 pl-3 backdrop-blur-sm",children:[jsx(MagnifyingGlassIcon,{className:"h-5 w-5","aria-hidden":"true"}),jsx("input",{type:"text",spellCheck:"false",className:"w-full bg-transparent p-2 text-xs text-gray-600 caret-orange-400 outline-none placeholder:text-gray-400",placeholder:"Search...",onChange:r})]})}

export { D as a };
